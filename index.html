<!DOCTYPE html>
<html lang="en">
<head>
  <title>Ethereum File Storage Dapp</title>
	<!--CSS CDN link
for IpfsCloud widget-->
<link href="https://cdn.jsdelivr.net/gh/vasa-develop/ipfscloud@f157536445863f27481d8ce5e3025f25264d1113/app/docs/v1/css/ipfscloud-uploader.min.css" rel="stylesheet">
</head>
<body>
	
  <div id="band"></div>
  <h2>Blockchain And Ipfs</h2>
  </br>
  <h3><marquee behavior="alternate">â€œPlug Into Decentralized Future.. Store Your Files In Secure Way.."</marquee></h3>
   <div style="text-align: center;">
     <center>
        <!--this div element will form the button-->
        <div id="IpfsCloudUploader"></div>
        <div id="hashes"></div>
    </center>
  </br>
   	<label><b>Store Your Hash:</b></label>
  <input type="text" id="fileName" placeholder="Enter file name.." required />
<input type="text" id="ipfsHash" placeholder="Enter Ipfs Hash.." required />
<button id="storeHash">Add to Chain</button>
</div>
<div style="text-align: center;">
<label><b>Get Your Files:</b></label>
<input type="text" id="fileNameIndex" placeholder="Enter file name.." required />
<button id="getFileData">Get File</button>
</div>
<div id = "response" style="text-align: center;">
<p><b>File Name:</b><span id="getFileName">??</span></p>
<p><b>Ipfs Hash:</b><span onmouseover="clickable()" id="getIpfsHash">??</span></p>
<p><b>Date Created:</b><span id="getDateCreated">??</span></p>
</div>
<h4 id="storedFiles" onclick="initAllFiles()" style="text-align: center;"> Stored Files</h4>

<div id="allFiles">Your Files will show up here..</div>
<hr>
<div id="log" style="text-align: center;"></div>
 <link rel="stylesheet" href="index.css">
<!--JQuery needed for functioning of the widget-->
<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/gh/vasa-develop/ipfscloud@bd23078768a5c708fc0f322a3e0e0cfb45b61f71/app/docs/v1/js/ipfscloud-uploader.min.js" ></script>
<script src="web3.min.js"></script>
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script src ="index.js"></script>
<script>
	function clickable() {
  var str = document.getElementById("getIpfsHash").textContent;
  var result = str.link(str);
  document.getElementById("getIpfsHash").innerHTML = result;
}
ipfscloud.addEventListener("icevent", function(event) {
    console.log(event.detail);    
document.getElementById("hashes").innerHTML= JSON.stringify(event.detail);
  });
document.getElementById("getDateCreated").addEventListener("click", function() {
  var unixtime = +document.getElementById('getDateCreated').textContent;
  var newDate = new Date();
  newDate.setTime(unixtime * 1000);
  dateString = newDate.toUTCString();
  document.getElementById("getDateCreated").textContent = dateString;
});
</script>
</body>
<footer style="text-align: right;">
<h6>&copy Salman Dabbakuti </h6>
</footer>
</html>
